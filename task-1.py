import networkx as nx
import matplotlib.pyplot as plt


def create_and_analyze_graph():
    """–°—Ç–≤–æ—Ä—é—î –Ω–µ–Ω–∞–∑–≤–∞–∂–µ–Ω–∏–π –≥—Ä–∞—Ñ, –≤—ñ–∑—É–∞–ª—ñ–∑—É—î —Ç–∞ –ø—Ä–æ–≤–æ–¥–∏—Ç—å –±–∞–∑–æ–≤–∏–π –∞–Ω–∞–ª—ñ–∑."""
    print("--- üî¨ –ó–ê–í–î–ê–ù–ù–Ø 1: –°—Ç–≤–æ—Ä–µ–Ω–Ω—è, –í—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—è —Ç–∞ –ê–Ω–∞–ª—ñ–∑ ---")

    # –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø–æ—Ä–æ–∂–Ω—å–æ–≥–æ –≥—Ä–∞—Ñ–∞
    G = nx.Graph()

    # –î–æ–¥–∞–≤–∞–Ω–Ω—è –≤–µ—Ä—à–∏–Ω
    nodes = [
        "–¶–µ–Ω—Ç—Ä",
        "–í–æ–∫–∑–∞–ª",
        "–ü–∞—Ä–∫",
        "–†–∏–Ω–∫–æ–≤–∞ –ü–ª–æ—â–∞",
        "–£–Ω—ñ–≤–µ—Ä—Å–∏—Ç–µ—Ç",
        "–ë—ñ–±–ª—ñ–æ—Ç–µ–∫–∞",
        "–ñ–∏—Ç–ª–æ–≤–∏–π –ú–∞—Å–∏–≤",
    ]
    G.add_nodes_from(nodes)

    # –î–æ–¥–∞–≤–∞–Ω–Ω—è —Ä–µ–±–µ—Ä
    G.add_edges_from(
        [
            ("–¶–µ–Ω—Ç—Ä", "–í–æ–∫–∑–∞–ª"),
            ("–¶–µ–Ω—Ç—Ä", "–ü–∞—Ä–∫"),
            ("–¶–µ–Ω—Ç—Ä", "–†–∏–Ω–∫–æ–≤–∞ –ü–ª–æ—â–∞"),
            ("–í–æ–∫–∑–∞–ª", "–ñ–∏—Ç–ª–æ–≤–∏–π –ú–∞—Å–∏–≤"),
            ("–ü–∞—Ä–∫", "–ë—ñ–±–ª—ñ–æ—Ç–µ–∫–∞"),
            ("–†–∏–Ω–∫–æ–≤–∞ –ü–ª–æ—â–∞", "–£–Ω—ñ–≤–µ—Ä—Å–∏—Ç–µ—Ç"),
            ("–£–Ω—ñ–≤–µ—Ä—Å–∏—Ç–µ—Ç", "–ë—ñ–±–ª—ñ–æ—Ç–µ–∫–∞"),
            ("–ë—ñ–±–ª—ñ–æ—Ç–µ–∫–∞", "–ñ–∏—Ç–ª–æ–≤–∏–π –ú–∞—Å–∏–≤"),
            ("–†–∏–Ω–∫–æ–≤–∞ –ü–ª–æ—â–∞", "–ñ–∏—Ç–ª–æ–≤–∏–π –ú–∞—Å–∏–≤"),
        ]
    )

    print(f"–ì—Ä–∞—Ñ —Å—Ç–≤–æ—Ä–µ–Ω–æ. –ö—ñ–ª—å–∫—ñ—Å—Ç—å –≤–µ—Ä—à–∏–Ω (N): {G.number_of_nodes()}")
    print(f"–ö—ñ–ª—å–∫—ñ—Å—Ç—å —Ä–µ–±–µ—Ä (M): {G.number_of_edges()}")

    # –ê–Ω–∞–ª—ñ–∑ —Å—Ç–µ–ø–µ–Ω—è –≤–µ—Ä—à–∏–Ω
    degrees = dict(G.degree())
    print("\n–°—Ç—É–ø–µ–Ω—ñ –≤–µ—Ä—à–∏–Ω (degree):")
    for node, degree in degrees.items():
        print(f"  - {node}: {degree}")

    # –í—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—è –≥—Ä–∞—Ñ–∞
    pos = nx.spring_layout(G, seed=42)
    plt.figure(figsize=(10, 7))
    nx.draw(
        G,
        pos,
        with_labels=True,
        node_color="skyblue",
        node_size=2000,
        edge_color="gray",
        linewidths=1,
        font_size=10,
        font_weight="bold",
    )
    plt.title("–ú–æ–¥–µ–ª—å –¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω–æ—ó –ú–µ—Ä–µ–∂—ñ (–ó–∞–≤–¥–∞–Ω–Ω—è 1)")
    plt.show()

    return G


if __name__ == "__main__":
    create_and_analyze_graph()
