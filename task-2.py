import networkx as nx


def create_base_graph():
    """–°—Ç–≤–æ—Ä—é—î –≥—Ä–∞—Ñ –¥–ª—è –ø–æ—à—É–∫—É —à–ª—è—Ö—ñ–≤."""
    G = nx.Graph()
    G.add_nodes_from(
        [
            "–¶–µ–Ω—Ç—Ä",
            "–í–æ–∫–∑–∞–ª",
            "–ü–∞—Ä–∫",
            "–†–∏–Ω–∫–æ–≤–∞ –ü–ª–æ—â–∞",
            "–£–Ω—ñ–≤–µ—Ä—Å–∏—Ç–µ—Ç",
            "–ë—ñ–±–ª—ñ–æ—Ç–µ–∫–∞",
            "–ñ–∏—Ç–ª–æ–≤–∏–π –ú–∞—Å–∏–≤",
        ]
    )
    G.add_edges_from(
        [
            ("–¶–µ–Ω—Ç—Ä", "–í–æ–∫–∑–∞–ª"),
            ("–¶–µ–Ω—Ç—Ä", "–ü–∞—Ä–∫"),
            ("–¶–µ–Ω—Ç—Ä", "–†–∏–Ω–∫–æ–≤–∞ –ü–ª–æ—â–∞"),
            ("–í–æ–∫–∑–∞–ª", "–ñ–∏—Ç–ª–æ–≤–∏–π –ú–∞—Å–∏–≤"),
            ("–ü–∞—Ä–∫", "–ë—ñ–±–ª—ñ–æ—Ç–µ–∫–∞"),
            ("–†–∏–Ω–∫–æ–≤–∞ –ü–ª–æ—â–∞", "–£–Ω—ñ–≤–µ—Ä—Å–∏—Ç–µ—Ç"),
            ("–£–Ω—ñ–≤–µ—Ä—Å–∏—Ç–µ—Ç", "–ë—ñ–±–ª—ñ–æ—Ç–µ–∫–∞"),
            ("–ë—ñ–±–ª—ñ–æ—Ç–µ–∫–∞", "–ñ–∏—Ç–ª–æ–≤–∏–π –ú–∞—Å–∏–≤"),
            ("–†–∏–Ω–∫–æ–≤–∞ –ü–ª–æ—â–∞", "–ñ–∏—Ç–ª–æ–≤–∏–π –ú–∞—Å–∏–≤"),
        ]
    )
    return G


def find_dfs_path(graph, start, end):
    """–ó–Ω–∞—Ö–æ–¥–∏—Ç—å –æ–¥–∏–Ω —à–ª—è—Ö –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é DFS-–ø–æ–¥—ñ–±–Ω–æ–≥–æ –æ–±—Ö–æ–¥—É."""
    # nx.all_simple_paths –ø–æ–≤–æ–¥–∏—Ç—å—Å—è —è–∫ DFS, –∫–æ–ª–∏ –ø–æ–≤–µ—Ä—Ç–∞—î –ø–µ—Ä—à–∏–π —à–ª—è—Ö
    try:
        paths_generator = nx.all_simple_paths(graph, start, end)
        return next(paths_generator, None)
    except:
        return None


def task_2_dfs_bfs_search():
    """–í–∏–∫–æ–Ω—É—î –ø–æ—à—É–∫ —à–ª—è—Ö—ñ–≤ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é DFS —Ç–∞ BFS —ñ –ø–æ—Ä—ñ–≤–Ω—é—î —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏."""
    G = create_base_graph()
    print("\n--- üîç –ó–ê–í–î–ê–ù–ù–Ø 2: –ü–æ—à—É–∫ —É –ì–ª–∏–±–∏–Ω—É (DFS) —Ç–∞ –®–∏—Ä–∏–Ω—É (BFS) ---")

    start_node = "–¶–µ–Ω—Ç—Ä"
    end_node = "–ñ–∏—Ç–ª–æ–≤–∏–π –ú–∞—Å–∏–≤"

    # 1. –ü–æ—à—É–∫ —É –®–∏—Ä–∏–Ω—É (BFS) - –∑–Ω–∞—Ö–æ–¥–∏—Ç—å –Ω–∞–π–∫–æ—Ä–æ—Ç—à–∏–π —à–ª—è—Ö –∑–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—é —Ä–µ–±–µ—Ä
    try:
        bfs_path = nx.shortest_path(G, source=start_node, target=end_node)
        bfs_length = len(bfs_path) - 1
        print(f"1. –®–ª—è—Ö BFS (–Ω–∞–π–∫–æ—Ä–æ—Ç—à–∏–π –∑–∞ —Ä–µ–±—Ä–∞–º–∏) –≤—ñ–¥ {start_node} –¥–æ {end_node}:")
        print(f"   - –®–ª—è—Ö: {bfs_path}")
        print(f"   - –î–æ–≤–∂–∏–Ω–∞ (–∫—ñ–ª—å–∫—ñ—Å—Ç—å —Ä–µ–±–µ—Ä): {bfs_length}")
    except nx.NetworkXNoPath:
        print(f"–®–ª—è—Ö BFS –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ.")

    # 2. –ü–æ—à—É–∫ —É –ì–ª–∏–±–∏–Ω—É (DFS)
    dfs_path = find_dfs_path(G, start_node, end_node)
    dfs_length = len(dfs_path) - 1 if dfs_path else 0

    print(f"\n2. –®–ª—è—Ö DFS (–ø–µ—Ä—à–∏–π –∑–Ω–∞–π–¥–µ–Ω–∏–π) –≤—ñ–¥ {start_node} –¥–æ {end_node}:")
    print(f"   - –®–ª—è—Ö: {dfs_path}")
    print(f"   - –î–æ–≤–∂–∏–Ω–∞ (–∫—ñ–ª—å–∫—ñ—Å—Ç—å —Ä–µ–±–µ—Ä): {dfs_length}")

    print(
        "\n*–ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è —Ç–∞ –ø–æ—è—Å–Ω–µ–Ω–Ω—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤ BFS —ñ DFS –æ—Ñ–æ—Ä–º–ª–µ–Ω–æ —É —Ñ–∞–π–ª—ñ README.md*"
    )


if __name__ == "__main__":
    task_2_dfs_bfs_search()
